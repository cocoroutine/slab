(function(e){function t(t){for(var n,l,r=t[0],o=t[1],c=t[2],d=0,m=[];d<r.length;d++)l=r[d],i[l]&&m.push(i[l][0]),i[l]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);u&&u(t);while(m.length)m.shift()();return s.push.apply(s,c||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],n=!0,r=1;r<a.length;r++){var o=a[r];0!==i[o]&&(n=!1)}n&&(s.splice(t--,1),e=l(l.s=a[0]))}return e}var n={},i={app:0},s=[];function l(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.m=e,l.c=n,l.d=function(e,t,a){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)l.d(a,n,function(t){return e[t]}.bind(null,n));return a},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],o=r.push.bind(r);r.push=t,r=r.slice();for(var c=0;c<r.length;c++)t(r[c]);var u=o;s.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"00ad":function(e,t,a){"use strict";var n=a("34ca"),i=a.n(n);i.a},"034f":function(e,t,a){"use strict";var n=a("27fb"),i=a.n(n);i.a},"23dc":function(e,t,a){},"27fb":function(e,t,a){},"2e20":function(e,t,a){"use strict";var n=a("23dc"),i=a.n(n);i.a},"34ca":function(e,t,a){},"4bf5":function(e,t,a){"use strict";var n=a("a19b"),i=a.n(n);i.a},5581:function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("cadf"),a("551c"),a("097d");var n=a("2b0e"),i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ui container",attrs:{id:"app"}},[a("router-view")],1)},s=[],l=(a("034f"),a("2877")),r={},o=Object(l["a"])(r,i,s,!1,null,null,null);o.options.__file="App.vue";var c=o.exports,u=a("8c4f"),d=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},m=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"about"},[a("h1",[e._v("This is a node + express + mongodb + vue app")])])}],p={},b=Object(l["a"])(p,d,m,!1,null,null,null);b.options.__file="About.vue";var v=b.exports,f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"content"}},[a("Sidebar",{attrs:{slab:e.slab,table:e.table,tableList:e.tableList},on:{"navto-slab":e.slabRoute,"navto-table":e.tableRoute}}),a(e.pcomponent,{tag:"component",attrs:{columnId:e.columnId,menuColumns:e.menuColumns,masterSlab:e.masterSlab,masterColumns:e.masterTableRef,slab:e.slab,table:e.table,tableList:e.tableList},on:{"edit-column":e.editColumnMode,"edit-slab":e.editMode,"edit-table":e.editTableMode,"navto-slab":e.slabRoute,"navto-table":e.tableRoute,"read-master":e.slabMasterRead,"read-slab":e.slabRead,"read-table":e.tableRead,"returnto-slab":e.slabMode,"returnto-table":e.tableMode}})],1)},h=[],g=a("c93e"),_=(a("f751"),a("7f7f"),a("96cf"),a("3040")),C=a("bc3a"),y=a.n(C),x=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ui pusher"},[a("form",{staticClass:"ui form",staticStyle:{"min-width":"480px"},on:{submit:function(t){return t.preventDefault(),e.save(t)}}},[a("div",{staticClass:"two fields"},[a("div",{staticClass:"field"},[a("label",[e._v("Friendly Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.column.friendly,expression:"column.friendly"}],attrs:{type:"text",name:"friendly-name",placeholder:"Friendly Name"},domProps:{value:e.column.friendly},on:{input:function(t){t.target.composing||e.$set(e.column,"friendly",t.target.value)}}})]),a("div",{staticClass:"field"},[a("label",[e._v("Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.column.name,expression:"column.name"}],attrs:{type:"text",name:"backend-name",placeholder:"Name"},domProps:{value:e.column.name},on:{input:function(t){t.target.composing||e.$set(e.column,"name",t.target.value)}}})])]),a("div",{staticClass:"field"},[a("label",[e._v("Description")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.column.description,expression:"column.description"}],attrs:{rows:"3"},domProps:{value:e.column.description},on:{input:function(t){t.target.composing||e.$set(e.column,"description",t.target.value)}}})]),a("div",{staticClass:"field"},[a("label",[e._v("Data Type")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.column.datatype,expression:"column.datatype"}],staticClass:"ui dropdown",attrs:{id:"selectdatatype"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.column,"datatype",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"string"}},[e._v("String")]),a("option",{attrs:{value:"datetime"}},[e._v("Datetime")]),a("option",{attrs:{value:"email"}},[e._v("Email")]),a("option",{attrs:{value:"integer"}},[e._v("Integer")]),a("option",{attrs:{value:"money"}},[e._v("Money")])])]),a("div",{staticClass:"inline fields"},[a("div",{staticClass:"field"},[a("div",{staticClass:"ui toggle checkbox"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.column.isPK,expression:"column.isPK"}],attrs:{type:"checkbox",name:"isPK"},domProps:{checked:Array.isArray(e.column.isPK)?e._i(e.column.isPK,null)>-1:e.column.isPK},on:{change:function(t){var a=e.column.isPK,n=t.target,i=!!n.checked;if(Array.isArray(a)){var s=null,l=e._i(a,s);n.checked?l<0&&e.$set(e.column,"isPK",a.concat([s])):l>-1&&e.$set(e.column,"isPK",a.slice(0,l).concat(a.slice(l+1)))}else e.$set(e.column,"isPK",i)}}}),a("label",[e._v("PK")])])]),a("div",{staticClass:"field"},[a("div",{staticClass:"ui toggle checkbox"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.column.isFK,expression:"column.isFK"}],attrs:{type:"checkbox",name:"isFK"},domProps:{checked:Array.isArray(e.column.isFK)?e._i(e.column.isFK,null)>-1:e.column.isFK},on:{change:function(t){var a=e.column.isFK,n=t.target,i=!!n.checked;if(Array.isArray(a)){var s=null,l=e._i(a,s);n.checked?l<0&&e.$set(e.column,"isFK",a.concat([s])):l>-1&&e.$set(e.column,"isFK",a.slice(0,l).concat(a.slice(l+1)))}else e.$set(e.column,"isFK",i)}}}),a("label",[e._v("FK")])])]),a("div",{staticClass:"field"},[a("div",{staticClass:"ui toggle checkbox"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.column.isSegment,expression:"column.isSegment"}],attrs:{type:"checkbox",name:"isSegment"},domProps:{checked:Array.isArray(e.column.isSegment)?e._i(e.column.isSegment,null)>-1:e.column.isSegment},on:{change:function(t){var a=e.column.isSegment,n=t.target,i=!!n.checked;if(Array.isArray(a)){var s=null,l=e._i(a,s);n.checked?l<0&&e.$set(e.column,"isSegment",a.concat([s])):l>-1&&e.$set(e.column,"isSegment",a.slice(0,l).concat(a.slice(l+1)))}else e.$set(e.column,"isSegment",i)}}}),a("label",[e._v("Filters")])])]),a("div",{staticClass:"field"},[a("div",{staticClass:"ui toggle checkbox"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.column.isMI,expression:"column.isMI"}],attrs:{type:"checkbox",name:"isMI"},domProps:{checked:Array.isArray(e.column.isMI)?e._i(e.column.isMI,null)>-1:e.column.isMI},on:{change:function(t){var a=e.column.isMI,n=t.target,i=!!n.checked;if(Array.isArray(a)){var s=null,l=e._i(a,s);n.checked?l<0&&e.$set(e.column,"isMI",a.concat([s])):l>-1&&e.$set(e.column,"isMI",a.slice(0,l).concat(a.slice(l+1)))}else e.$set(e.column,"isMI",i)}}}),a("label",[e._v("Reports")])])]),a("div",{staticClass:"field"},[a("div",{staticClass:"ui toggle checkbox"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.column.isPII,expression:"column.isPII"}],attrs:{type:"checkbox",name:"isPII"},domProps:{checked:Array.isArray(e.column.isPII)?e._i(e.column.isPII,null)>-1:e.column.isPII},on:{change:function(t){var a=e.column.isPII,n=t.target,i=!!n.checked;if(Array.isArray(a)){var s=null,l=e._i(a,s);n.checked?l<0&&e.$set(e.column,"isPII",a.concat([s])):l>-1&&e.$set(e.column,"isPII",a.slice(0,l).concat(a.slice(l+1)))}else e.$set(e.column,"isPII",i)}}}),a("label",[e._v("PII")])])])]),a("button",{staticClass:"ui right floated button",on:{click:function(t){return t.preventDefault(),e.cancel(t)}}},[e._v("Cancel")]),a("button",{staticClass:"ui right floated negative button",on:{click:function(t){return t.preventDefault(),e.destroy(t)}}},[e._v("Delete")]),a("button",{staticClass:"ui right floated positive button",attrs:{type:"submit"}},[e._v("Save")])])])},w=[],k={name:"EditColumnContent",props:["columnId"],data:function(){return{column:{_id:"",description:"",friendly:"",name:"",datatype:"",isPK:!1,isFK:!1,isSegment:!1,isMI:!1,isPII:!1}}},created:function(){console.log("creating EC"),this.columnRead(this.columnId)},updated:function(){$("#selectdatatype").dropdown()},methods:{columnRead:function(){var e=Object(_["a"])(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get(this.$apihost+"/column/"+t);case 3:a=e.sent,this.column=a.data,this.$emit("read-table",this.column._tableId),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),console.log(e.t0);case 11:case"end":return e.stop()}},e,this,[[0,8]])}));return function(t){return e.apply(this,arguments)}}(),cancel:function(){this.$emit("returnto-table")},destroy:function(){var e=Object(_["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.preventDefault(),e.next=4,y.a.delete(this.$apihost+"/column/"+this.column._id);case 4:e.sent,this.$emit("returnto-table"),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),console.log(e.t0);case 11:case"end":return e.stop()}},e,this,[[0,8]])}));return function(t){return e.apply(this,arguments)}}(),save:function(){var e=Object(_["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.preventDefault(),e.next=4,y.a.put(this.$apihost+"/column/"+this.column._id,this.column);case 4:e.sent,this.$emit("navto-table",this.column._tableId),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),console.log(e.t0);case 11:case"end":return e.stop()}},e,this,[[0,8]])}));return function(t){return e.apply(this,arguments)}}()}},S=k,P=(a("b2e8"),Object(l["a"])(S,x,w,!1,null,"21ecbe14",null));P.options.__file="EditColumn.vue";var I=P.exports,R=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ui pusher"},[a("form",{staticClass:"ui form",staticStyle:{"min-width":"480px"},on:{submit:function(t){return t.preventDefault(),e.save(t)}}},[a("div",{staticClass:"field"},[a("label",[e._v("Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.eslab.name,expression:"eslab.name"}],attrs:{type:"text",name:"slab-name",placeholder:"Slab Name"},domProps:{value:e.eslab.name},on:{input:function(t){t.target.composing||e.$set(e.eslab,"name",t.target.value)}}})]),a("div",{staticClass:"field"},[a("label",[e._v("Description")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.eslab.description,expression:"eslab.description"}],attrs:{rows:"3"},domProps:{value:e.eslab.description},on:{input:function(t){t.target.composing||e.$set(e.eslab,"description",t.target.value)}}})]),a("button",{staticClass:"ui right floated button",on:{click:function(t){t.preventDefault(),e.$emit("returnto-slab")}}},[e._v("Cancel")]),a("button",{staticClass:"ui right floated positive button",attrs:{type:"submit"}},[e._v("Save")])])])},j=[],M={name:"EditSlabContent",props:["slab"],data:function(){return{eslab:{name:"",description:""}}},created:function(){console.log("creating ES"),this.eslab=Object.assign({},this.slab)},methods:{save:function(){var e=Object(_["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.preventDefault(),e.next=4,y.a.put(this.$apihost+"/slab/"+this.slab._id,this.eslab);case 4:e.sent,this.$emit("navto-slab",this.slab._id),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),console.log(e.t0);case 11:case"end":return e.stop()}},e,this,[[0,8]])}));return function(t){return e.apply(this,arguments)}}()}},O=M,T=(a("00ad"),Object(l["a"])(O,R,j,!1,null,"77be7d44",null));T.options.__file="EditSlab.vue";var E=T.exports,N=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ui pusher"},[a("form",{staticClass:"ui form",staticStyle:{"min-width":"480px"},on:{submit:function(t){return t.preventDefault(),e.save(t)}}},[a("div",{staticClass:"two fields"},[a("div",{staticClass:"field"},[a("label",[e._v("Friendly Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.etable.friendly,expression:"etable.friendly"}],attrs:{type:"text",name:"friendly-name",placeholder:"Friendly Name"},domProps:{value:e.etable.friendly},on:{input:function(t){t.target.composing||e.$set(e.etable,"friendly",t.target.value)}}})]),a("div",{staticClass:"field"},[a("label",[e._v("Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.etable.name,expression:"etable.name"}],attrs:{type:"text",name:"backend-name",placeholder:"Name"},domProps:{value:e.etable.name},on:{input:function(t){t.target.composing||e.$set(e.etable,"name",t.target.value)}}})])]),a("div",{staticClass:"field"},[a("label",[e._v("Description")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.etable.description,expression:"etable.description"}],attrs:{rows:"3"},domProps:{value:e.etable.description},on:{input:function(t){t.target.composing||e.$set(e.etable,"description",t.target.value)}}})]),a("div",{staticClass:"field"},[a("label",[e._v("Table Joins")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.etable.joins,expression:"etable.joins"}],staticClass:"ui dropdown",attrs:{id:"joinselect",multiple:""},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.etable,"joins",t.target.multiple?a:a[0])}}},e._l(e.filteredJoins,function(t){return a("option",{key:t._id,domProps:{selected:e.etable.joins.includes(t._id),value:t._id}},[e._v(e._s(t.friendly))])}))]),a("div",{staticClass:"inline fields"},[a("div",{staticClass:"field"},[a("div",{staticClass:"ui toggle checkbox"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.etable.isSending,expression:"etable.isSending"}],attrs:{type:"checkbox",name:"sending"},domProps:{checked:Array.isArray(e.etable.isSending)?e._i(e.etable.isSending,null)>-1:e.etable.isSending},on:{change:function(t){var a=e.etable.isSending,n=t.target,i=!!n.checked;if(Array.isArray(a)){var s=null,l=e._i(a,s);n.checked?l<0&&e.$set(e.etable,"isSending",a.concat([s])):l>-1&&e.$set(e.etable,"isSending",a.slice(0,l).concat(a.slice(l+1)))}else e.$set(e.etable,"isSending",i)}}}),a("label",[e._v("Email")])])]),a("div",{staticClass:"field"},[a("div",{staticClass:"ui toggle checkbox"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.etable.isPrune,expression:"etable.isPrune"}],attrs:{type:"checkbox",name:"prune"},domProps:{checked:Array.isArray(e.etable.isPrune)?e._i(e.etable.isPrune,null)>-1:e.etable.isPrune},on:{change:function(t){var a=e.etable.isPrune,n=t.target,i=!!n.checked;if(Array.isArray(a)){var s=null,l=e._i(a,s);n.checked?l<0&&e.$set(e.etable,"isPrune",a.concat([s])):l>-1&&e.$set(e.etable,"isPrune",a.slice(0,l).concat(a.slice(l+1)))}else e.$set(e.etable,"isPrune",i)}}}),a("label",[e._v("Prune")])])])]),a("button",{staticClass:"ui right floated button",on:{click:function(t){return t.preventDefault(),e.cancel(t)}}},[e._v("Cancel")]),a("button",{staticClass:"ui right floated positive button",attrs:{type:"submit"}},[e._v("Save")])])])},A=[],K=(a("1c4c"),{name:"EditTableContent",props:["table","tableList"],data:function(){return{etable:{_id:"",friendly:"",name:"",description:"",joins:[]}}},created:function(){console.log("creating ET"),this.etable=Object.assign({},this.table),this.flatten_joins()},mounted:function(){$("#joinselect").dropdown()},computed:{filteredJoins:function(){var e=this;return this.tableList.filter(function(t){return t._id!==e.table._id})}},methods:{flatten_joins:function(){var e=Array.from(this.etable.joins,function(e){return e._id});this.etable.joins=e},cancel:function(){this.$emit("returnto-table")},save:function(){var e=Object(_["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.preventDefault(),e.next=4,y.a.put(this.$apihost+"/table/"+this.table._id,this.etable);case 4:e.sent,this.$emit("navto-table",this.table._id),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),console.log(e.t0);case 11:case"end":return e.stop()}},e,this,[[0,8]])}));return function(t){return e.apply(this,arguments)}}()}}),F=K,D=(a("5bfd"),Object(l["a"])(F,N,A,!1,null,"566e09a4",null));D.options.__file="EditTable.vue";var L=D.exports,J=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ui pusher"},[a("div",{staticClass:"masthead"},[a("h1",{staticClass:"ui left floated header"},[a("i",{staticClass:"building icon"}),a("div",{staticClass:"content"},[e._v(e._s(e.slab.name))])]),a("button",{staticClass:"ui right floated basic circular icon button",on:{click:function(t){e.$emit("edit-slab")}}},[a("i",{staticClass:"edit icon"})])]),a("div",{staticClass:"item",staticStyle:{"margin-top":"20px","margin-bottom":"40px","min-width":"480px"}},[e._v("\n            "+e._s(e.slab.description)+"\n        ")]),!0===e.isMaster?[a("div",{staticClass:"ui three column grid",staticStyle:{"min-width":"480px"}},e._l(e.masterSlab.tables,function(t){return a("div",{key:t._id,staticClass:"column"},[a("div",{staticClass:"ui small modal",attrs:{id:"modal-"+t._id}},[a("div",{staticClass:"header"},[e._v(" Sync "+e._s(t.friendly)+" Table from Master?")]),a("div",{staticClass:"content"},[a("p",[e._v("This will delete the existing "+e._s(t.friendly)+" \n                            table and all existing columns associated with it")])]),a("div",{staticClass:"actions"},[a("div",{staticClass:"ui green positive button",on:{click:function(a){e.syncTable(t.name)}}},[e._v("Sync")]),a("div",{staticClass:"ui cancel button"},[e._v("Cancel")])])]),a("div",{staticClass:"ui left labeled button",staticStyle:{margin:"10px"}},[a("div",{staticClass:"ui basic label",staticStyle:{width:"100px"}},[e._v("\n                            "+e._s(t.friendly)+"\n                        ")]),a("div",{staticClass:"ui green button",on:{click:function(a){e.showModal(t._id)}}},[a("i",{staticClass:"check icon"}),e._v(" Sync \n                        ")])])])}))]:e._e()],2)},q=[],B={name:"SlabContent",props:["slab","masterSlab"],created:function(){console.log("creating S"),this.$route.params.id?(this.$emit("read-slab",this.$route.params.id),this.$emit("read-master")):this.$emit("navto-slab")},computed:{isMaster:function(){return!this.slab.master}},methods:{showModal:function(e){$("#modal-"+e).modal("show")},syncTable:function(){var e=Object(_["a"])(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get(this.$apihost+"/synco/"+t.trim()+"/"+this.slab._id);case 3:a=e.sent,this.$emit("navto-table",a.data._id),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()}},H=B,z=(a("4bf5"),Object(l["a"])(H,J,q,!1,null,"05cd68c7",null));z.options.__file="Slab.vue";var G=z.exports,Q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ui visible left inverted vertical sidebar menu"},[a("div",{staticClass:"item header"},[e._v("Slabs")]),a("div",{staticClass:"ui inverted floating selection dropdown item",attrs:{id:"slabsdropdown"}},[a("input",{ref:"sslab",attrs:{type:"hidden",name:"sslab",value:""},on:{change:e.selectSlab}}),a("i",{staticClass:"dropdown icon"}),a("div",{staticClass:"default text"},[e._v(e._s(e.slab.name))]),a("div",{staticClass:"menu"},[e._l(e.slabList,function(t){return a("div",{staticClass:"item",attrs:{"data-value":t._id}},[e._v(e._s(t.name))])}),a("div",{staticClass:"divider"}),a("div",{staticClass:"ui icon input",staticStyle:{overflow:"visible"}},[a("input",{ref:"islab",attrs:{type:"text",name:"islab",placeholder:"slab name..."}}),a("i",{staticClass:"small circular plus link icon",staticStyle:{top:".5em"},on:{click:e.addSlab}})])],2)]),a("div",{staticClass:"item header"},[e._v("Tables"),a("i",{staticClass:"plus circle icon link",on:{click:e.showInput}})]),a("div",{staticClass:"menu"},[e._l(e.tableList,function(t){return a("a",{staticClass:"item",class:{active:t._id==e.table._id},on:{click:function(a){e.selectTable(t._id)}}},[e._v(e._s(t.friendly))])}),a("div",{staticClass:"item transition hidden",attrs:{id:"addtable"}},[a("div",{staticClass:"ui small input"},[a("input",{ref:"itable",attrs:{name:"itable",placeholder:"table name...",type:"text"},on:{blur:e.addTable}})])])],2)])},U=[],V={name:"Sidebar",props:["slab","table","tableList"],data:function(){return{slabList:null}},created:function(){console.log("creating SB"),this.listSlabs()},mounted:function(){$("#slabsdropdown").dropdown()},methods:{addSlab:function(){this.$refs.islab.value&&(this.slabCreate(this.$refs.islab.value),this.$refs.islab.value="")},addTable:function(){$("#addtable").transition("fade out"),this.$refs.itable.value&&this.tableCreate(this.$refs.itable.value)},listSlabs:function(){var e=Object(_["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get(this.$apihost+"/slab");case 3:t=e.sent,this.slabList=t.data,e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(){return e.apply(this,arguments)}}(),selectSlab:function(){this.$refs.sslab.value&&this.$emit("navto-slab",this.$refs.sslab.value)},selectTable:function(e){this.$emit("navto-table",e,this.slab)},showInput:function(){this.$refs.itable.value="",$("#addtable").transition("fade in"),this.$refs.itable.focus()},slabCreate:function(){var e=Object(_["a"])(regeneratorRuntime.mark(function e(t){var a,n,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,a={name:t},e.next=4,y.a.post(this.$apihost+"/slab",a);case 4:return n=e.sent,e.next=7,this.listSlabs();case 7:i=n.data,this.$emit("navto-slab",i._id),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](0),this.errors.push(e.t0);case 14:case"end":return e.stop()}},e,this,[[0,11]])}));return function(t){return e.apply(this,arguments)}}(),tableCreate:function(){var e=Object(_["a"])(regeneratorRuntime.mark(function e(t){var a,n,i,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,a=t.toLowerCase()+"_tbl",n={friendly:t,name:a,_slabId:this.slab._id},e.next=5,y.a.post(this.$apihost+"/table",n);case 5:i=e.sent,s=i.data,this.$emit("navto-table",s._id),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](0),this.errors.push(e.t0);case 13:case"end":return e.stop()}},e,this,[[0,10]])}));return function(t){return e.apply(this,arguments)}}()}},W=V,X=(a("dba3"),Object(l["a"])(W,Q,U,!1,null,"6d45df49",null));X.options.__file="Sidebar.vue";var Y=X.exports,Z=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ui pusher"},[a("div",{staticClass:"masthead"},[a("h1",{staticClass:"ui left floated header"},[a("i",{staticClass:"database icon"}),a("div",{staticClass:"content"},[e._v(e._s(e.table.friendly)+"\n                "),a("div",{staticClass:"sub header"},[e._v(e._s(e.table.name))])])]),a("button",{staticClass:"ui right floated basic circular icon button",on:{click:e.tableEditRoute}},[a("i",{staticClass:"edit icon"})])]),a("div",{staticClass:"item",staticStyle:{"min-width":"480px"}},e._l(e.listTableFlags(),function(e){return a("Tag",{key:e,attrs:{name:e}})})),a("div",{staticClass:"item",staticStyle:{"margin-top":"20px","min-width":"480px"}},[e._v("\n        "+e._s(e.table.description)+"\n    ")]),a("div",{staticClass:"ui pointing menu",staticStyle:{"min-width":"320px"}},[a("a",{staticClass:"item",class:{active:e.table._id==e.selectedMenu},on:{click:function(t){e.selected=e.table._id}}},[e._v(e._s(e.table.friendly))]),e.table.joins?e._l(e.table.joins,function(t){return a("a",{key:t._id,staticClass:"item",class:{active:t._id==e.selectedMenu},on:{click:function(a){e.selected=t._id}}},[e._v(e._s(t.friendly))])}):e._e(),a("div",{staticClass:"right menu"},[a("div",{staticClass:"item"},[a("div",{staticClass:"ui transparent icon input"},[a("input",{ref:"addcolumn",attrs:{type:"text",placeholder:"column name..."}}),a("i",{staticClass:"plus link icon",on:{click:e.addColumn}})])])])],2),e.hasColumns?[a("div",{staticClass:"ui raised segment",staticStyle:{"min-width":"320px"}},[a("div",{staticClass:"ui fluid divided items"},e._l(e.menuColumns[e.selectedMenu],function(t){return a("ColumnContent",e._g({key:t._id,attrs:{column:t,flags:e.listColumnFlags(t),isMaster:e.slab.master,masterColumns:e.masterColumns,tableName:e.table.name,tableId:e.table._id}},e.$listeners))}))])]:e._e()],2)},ee=[],te=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"item",style:e.diffStyle},[a("div",{staticClass:"content"},["datetime"===e.column.datatype?a("i",{staticClass:"calendar alternate icon"}):"email"===e.column.datatype?a("i",{staticClass:"envelope icon"}):"integer"===e.column.datatype?a("i",{staticClass:"hashtag icon"}):"money"===e.column.datatype?a("i",{staticClass:"money icon"}):"string"===e.column.datatype?a("i",{staticClass:"left quote icon"}):e._e(),a("h4",{staticClass:"ui header",staticStyle:{"margin-left":"5px"}},[e._v(e._s(e.column.friendly))]),a("button",{staticClass:"ui basic compact circular icon button",staticStyle:{float:"right"},on:{click:function(t){e.columnEditRoute(e.column._id)}}},[a("i",{staticClass:"edit icon"})]),a("div",{staticClass:"meta"},[a("span",{staticStyle:{"font-weight":"bold"}},[e._v(e._s(e.column.datatype))]),a("span",{staticClass:"cinema"},[e._v(e._s(e.column.name))])]),a("div",{staticClass:"description"},[a("p",[e._v(e._s(e.column.description))])]),a("div",{staticClass:"extra"},e._l(e.flags,function(e){return a("Tag",{attrs:{name:e}})}))])])},ae=[],ne=function(){var e=this,t=e.$createElement,a=e._self._c||t;return"isPK"===e.name?a("div",{staticClass:"ui tiny yellow label"},[a("i",{staticClass:"hashtag icon"}),e._v("pk")]):"isFK"===e.name?a("div",{staticClass:"ui tiny olive label"},[a("i",{staticClass:"hashtag icon"}),e._v("fk")]):"isSegment"===e.name?a("div",{staticClass:"ui tiny teal label"},[a("i",{staticClass:"filter icon"}),e._v("filters")]):"isMI"===e.name?a("div",{staticClass:"ui tiny violet label"},[a("i",{staticClass:"chart bar icon"}),e._v("reports")]):"isPII"===e.name?a("div",{staticClass:"ui tiny pink label"},[a("i",{staticClass:"address card icon"}),e._v("PII")]):"isSending"===e.name?a("div",{staticClass:"ui tiny green label"},[a("i",{staticClass:"paper plane icon"}),e._v("Email")]):"isPrune"===e.name?a("div",{staticClass:"ui tiny red label"},[a("i",{staticClass:"cut icon"}),e._v("Prune")]):e._e()},ie=[],se={name:"Tag",props:["name"],data:function(){return{color:"blue",icon:"hashtag icon",mapping:{isFK:{label:"pk",icon:"hashtag",color:"yellow"},isMI:{label:"pk",icon:"chart line",color:"olive"},isPII:{label:"pk",icon:"adress card",color:"teal"},isPK:{label:"pk",icon:"hashtag",color:"violet"},isSegment:{label:"pk",icon:"filter",color:"pink"}}}}},le=se,re=(a("2e20"),Object(l["a"])(le,ne,ie,!1,null,"01ec8a80",null));re.options.__file="Tag.vue";var oe=re.exports,ce={name:"ColumnContent",components:{Tag:oe},props:["column","flags","isMaster","masterColumns","tableName","tableId"],computed:{diffStyle:function(){if(!this.isMaster&&this.tableId===this.column._tableId){var e=JSON.parse(JSON.stringify(this.column));delete e._id,delete e._tableId,delete e.__v,delete e.aka,delete e.friendly,delete e.description,delete e.updated;var t=this.column.name,a=this.tableName;if(void 0!==this.masterColumns[a]&&void 0!==this.masterColumns[a][t]){var n=JSON.parse(JSON.stringify(this.masterColumns[a][t]));if(JSON.stringify(e)!==JSON.stringify(n))return{"background-color":"#F6CECE"}}}return{"background-color":"none"}}},methods:{columnEditRoute:function(e){console.log("emitting column edit"),this.$emit("edit-column",e)}}},ue=ce,de=Object(l["a"])(ue,te,ae,!1,null,null,null);de.options.__file="Column.vue";var me=de.exports,pe={name:"TableContent",components:{ColumnContent:me,Tag:oe},props:["slab","table","menuColumns","masterColumns"],data:function(){return{selected:null}},created:function(){console.log("creating T"),this.$route.params.id?(this.$emit("read-table",this.$route.params.id),this.$emit("read-master")):this.$emit("navto-slab")},computed:{hasColumns:function(){return!(!this.table.columns||!this.table.columns.length)},selectedMenu:function(){return this.selected&&this.selected in this.menuColumns?this.selected:this.table._id}},methods:{addColumn:function(){var e=Object(_["a"])(regeneratorRuntime.mark(function e(){var t,a,n,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!this.$refs.addcolumn.value){e.next=9;break}return t=this.$refs.addcolumn.value.toLowerCase(),a=this.$refs.addcolumn.value.toLowerCase(),n=this.selectedMenu,i={friendly:t,name:a,_tableId:n},e.next=7,this.columnCreate(i);case 7:e.sent,this.$refs.addcolumn.value="";case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),columnCreate:function(){var e=Object(_["a"])(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.post(this.$apihost+"/column",t);case 3:return a=e.sent,this.menuColumns[this.selectedMenu].push(a.data),e.abrupt("return",a);case 8:e.prev=8,e.t0=e["catch"](0),console.log(e.t0);case 11:case"end":return e.stop()}},e,this,[[0,8]])}));return function(t){return e.apply(this,arguments)}}(),listColumnFlags:function(e){var t=[];return e.isPK&&t.push("isPK"),e.isFK&&t.push("isFK"),e.isSegment&&t.push("isSegment"),e.isMI&&t.push("isMI"),e.isPII&&t.push("isPII"),t},listTableFlags:function(){var e=[];return this.table.isSending&&e.push("isSending"),this.table.isPrune&&e.push("isPrune"),e},tableEditRoute:function(){this.$emit("edit-table")}}},be=pe,ve=(a("f504"),Object(l["a"])(be,Z,ee,!1,null,"10c3ab29",null));ve.options.__file="Table.vue";var fe=ve.exports,he={name:"SlabPage",props:["pageComponent"],components:{EditColumnContent:I,EditSlabContent:E,EditTableContent:L,Sidebar:Y,SlabContent:G,TableContent:fe},data:function(){return{columnId:null,masterSlab:{_id:"",tables:[]},masterTableRef:{},menuColumns:{},pcomponent:"SlabContent",slab:{_id:"",name:"",description:""},table:{_id:"",friendly:"",name:"",description:"",joins:[]},tableList:[]}},created:function(){console.log("creating SP"),this.pageComponent&&(this.pcomponent=this.pageComponent)},methods:{editMode:function(){this.pcomponent="EditSlabContent"},editColumnMode:function(e){console.log("edit column"+e),this.columnId=e,this.pcomponent="EditColumnContent"},editTableMode:function(){console.log("edit table"),this.pcomponent="EditTableContent"},slabMode:function(){console.log("slab mode"),this.pcomponent="EditTableContent",this.pcomponent="SlabContent"},tableMode:function(){console.log("table mode"),this.pcomponent="TableContent"},slabMasterRead:function(){var e=Object(_["a"])(regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return console.log("read master"),e.prev=1,e.next=4,y.a.get(this.$apihost+"/slab/master");case 4:t=e.sent,this.masterSlab=t.data,a={},this.masterSlab.tables.map(function(e){a[e.name]={},e.columns.map(function(t){a[e.name][t.name]={},Object.assign(a[e.name][t.name],Object(g["a"])({},t))})}),this.masterTableRef=a,e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](1),console.log(e.t0);case 14:case"end":return e.stop()}},e,this,[[1,11]])}));return function(){return e.apply(this,arguments)}}(),slabRead:function(){var e=Object(_["a"])(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return console.log("read slab"),e.prev=1,e.next=4,y.a.get(this.$apihost+"/slab/"+t);case 4:a=e.sent,this.slab=a.data,this.tableList=this.slab.tables,e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](1),console.log(e.t0);case 12:case"end":return e.stop()}},e,this,[[1,9]])}));return function(t){return e.apply(this,arguments)}}(),slabRoute:function(){var e=Object(_["a"])(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(a=t,a){e.next=5;break}return e.next=4,this.slabMasterRead();case 4:a=this.masterSlab._id;case 5:return e.next=7,this.slabRead(a);case 7:this.slabMode(),console.log("route slab"),this.$router.push({name:"SlabPage",params:{id:a}});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),tableRead:function(){var e=Object(_["a"])(regeneratorRuntime.mark(function e(t){var a,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return console.log("read table"),e.prev=1,e.next=4,y.a.get(this.$apihost+"/table/"+t);case 4:return a=e.sent,this.table=a.data,e.next=8,this.slabRead(this.table._slabId);case 8:n={},n[this.table._id]=this.table.columns,this.table.joins.map(function(e){return n[e._id]=e.columns}),this.menuColumns=n,e.next=17;break;case 14:e.prev=14,e.t0=e["catch"](1),console.log(e.t0);case 17:case"end":return e.stop()}},e,this,[[1,14]])}));return function(t){return e.apply(this,arguments)}}(),tableRoute:function(){var e=Object(_["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.tableRead(t);case 2:this.tableMode(),console.log("route table"),this.$router.push({name:"TablePage",params:{id:t}});case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}},ge=he,_e=Object(l["a"])(ge,f,h,!1,null,null,null);_e.options.__file="SlabPage.vue";var Ce=_e.exports;n["a"].use(u["a"]);var ye=new u["a"]({mode:"history",routes:[{path:"/",name:"index",redirect:"/slab"},{path:"/about",name:"about",component:v},{path:"/slab",name:"SlabDefault",component:Ce,props:{pageComponent:"SlabContent"}},{path:"/slab/:id",name:"SlabPage",component:Ce,props:{pageComponent:"SlabContent"}},{path:"/table/:id",name:"TablePage",component:Ce,props:{pageComponent:"TableContent"}}]});n["a"].config.errorHandler=function(e,t,a){console.log("Error in "+a+": "+e)},n["a"].config.productionTip=!1,n["a"].prototype.$apihost="https://slab.coroutine.co/api",new n["a"]({router:ye,render:function(e){return e(c)}}).$mount("#app")},"5bfd":function(e,t,a){"use strict";var n=a("db04"),i=a.n(n);i.a},"649b":function(e,t,a){},a19b:function(e,t,a){},b2e8:function(e,t,a){"use strict";var n=a("5581"),i=a.n(n);i.a},d28e:function(e,t,a){},db04:function(e,t,a){},dba3:function(e,t,a){"use strict";var n=a("649b"),i=a.n(n);i.a},f504:function(e,t,a){"use strict";var n=a("d28e"),i=a.n(n);i.a}});
//# sourceMappingURL=app.20a87272.js.map